{% extends "base.html" %}
{% block title %}Admin Dashboard - Face Attendance{% endblock %}
{% block content %}
<h1 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Admin Dashboard</h1>
<p style="color: var(--text-muted); margin-bottom: 2rem;">Manage students and view attendance records.</p>

<div style="display: grid; gap: 1rem;">
    {% for user in users %}
    <a href="{{ url_for('admin_user_detail', user_id=user.id) }}" style="text-decoration: none; color: inherit;">
        <div style="display: flex; align-items: center; gap: 1.5rem; padding: 1rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius);">
            <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--bg-input); overflow: hidden;">
                {% if user.face_image_path %}
                <img src="{{ url_for('serve_face_image', user_id=user.id) }}" alt="" style="width:100%;height:100%;object-fit:cover;" onerror="this.parentElement.style.background='var(--bg-input)'">
                {% endif %}
            </div>
            <div style="flex: 1;">
                <div style="font-weight: 600;">{{ user.name }}</div>
                <div style="font-size: 0.875rem; color: var(--text-muted);">ID: {{ user.user_id }}</div>
            </div>
            <span style="color: var(--text-muted);">View attendance â†’</span>
        </div>
    </a>
    {% endfor %}
</div>

{% if not users %}
<p style="color: var(--text-muted); padding: 2rem; text-align: center;">No students yet. <a href="{{ url_for('admin_add_user') }}" style="color: var(--accent);">Add a user</a> to get started.</p>
{% endif %}
{% endblock %}
